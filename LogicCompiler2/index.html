<!DOCTYPE html>
<html lang="en">

<head>
	<!-- BOOTSTRAP STUFF -->
	<meta charset="utf-8">
	<meta name="description"
		content="A logic circuit simulator made with p5.js library, useful for educational use. It can be used to simulate combinational and sequential circuits.">
	<meta name="author" content="MisterT">
	<link rel="stylesheet" href="js/vendor/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="js/simulator/css/simstyle.css">
	<script src="js/vendor/js/jquery-3.3.1.slim.min.js"></script>
	<script src="js/vendor/js/popper.min.js"></script>
	<script src="js/vendor/js/bootstrap.min.js"></script>
	<!-- p5 stuff -->
	<script src="js/vendor/js/p5.min.js"></script>
	<!-- Simulator stuff -->
        <script src="js/simulator/js/parser.js"></script>
	<script type="module" src="js/simulator/js/engine2.js"></script>
	<script type="module" src="js/simulator/js/simulator.js"></script>
        
	<title>Logic Circuit Simulator</title>
</head>

<body>

	<!-- Fixed navbar -->
	<nav class="navbar navbar-expand-md navbar-dark bg-dark">
		<a class="navbar-brand text-center" href="#">
			Logic 
			<br>Compiler
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
			aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<!-- TODO
              <div class="navGroupTools"><button type="button" class="btn btn-outline-light" disabled><i class="fa fa-arrow-circle-left"></i>
              	Undo
              </button><button type="button" class="btn btn-outline-light" disabled><i class="fa fa-arrow-circle-right"></i>
              	Redo
              </button></div>-->
					<div class="navGroupTools">
						<button type="button" class="btn btn-outline-light Edit active" tool="Edit"
							onclick="activeTool(this)">
							<i class="fa fa-edit"></i>
							Edit
						</button>
						<button type="button" class="btn btn-outline-light" tool="Move" onclick="activeTool(this)">
							<i class="fa fa-arrows"></i>
							Move
						</button>
						<button type="button" class="btn btn-outline-light" tool="Delete" onclick="activeTool(this)"">
              				<i class=" fa fa-trash-o"></i>
							Delete
						</button>
					</div>
					<div class="navGroupTools">
						<label type="button" class="btn btn-outline-light" style="margin:0px">
							<input id="projectFile" type="file"></input>
							<i class="fa fa-upload"></i>
							Load
						</label>
						<a download="LogicCircuit00" href="#" id="saveProjectFile">
							<button type="button" class="btn btn-outline-light">
								<i class="fa fa-save"></i>
								Save
							</button>
						</a>
					</div>
					<div class="navGroupTools">
					<button type="button"
        					tool="LOAD"
						title="CHARGER UN PROTOTYPE"
                                                
        					onclick="activeTool(this)"
        					class="btn btn-outline-light">
    						<i class="fa fa-github"></i>
                                                Import
					</button>
					</div>
					<div class="githubSection">
						<button type="button" class="btn btn-outline-light"
							onclick="window.location.href='https://github.com/mistert14-caen/LogicCompiler'">
							<i class="fa fa-github"></i>
						</button>
					</div>
					</a>
				</li>
			</ul>
		</div>
	</nav>
	<!-- Begin page content -->

	<div class="container-fluid pt-3">
		<div class="row">
			<div class="tools col-0 ml-3 pr-0 overflow-scroll" style="overflow-y: scroll;height: calc(100vh - 5rem);">
				<div class="list-group float-right" style="min-width: 50px; max-width: 60px">
					
					<!--
					<button type="button" tool="LogicInput" title="Logic Input" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicInput.svg" class="ml-2" width="32">
					</button>
					<button type="button" tool="LogicOutput" title="Logic Output" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicOutput.svg" class="ml-2" width="32">
					</button>

					<button type="button" tool="LogicValue" title="Logic Value" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicValue.svg" class="ml-2" width="32">
					</button>
					-->

                                        <button type="button" tool="PROTO" model="BTN" title="Logic Input" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicInput.svg" class="ml-2" width="32">
					</button>
					<button type="button" tool="PROTO" model="LED" title="LED" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicOutput.svg" class="ml-2" width="32">
					</button>

					<button type="button" tool="PROTO" model="VAL" title="Logic Value" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/LogicValue.svg" class="ml-2" width="32">
					</button>


					<button type="button" data-target="#ClockSettings" data-toggle="modal" title="Clock"
						class="list-group-item list-group-item-action pl-1">
						<img src="js/simulator/img/Clock.svg" width="50">
					</button>
					<button type="button" tool="PROTO" title="Label" model="LBL" onclick="activeTool(this)"
						class="list-group-item list-group-item-action pl-1">
						<!--<img src="js/simulator/img/LogicValue.svg" class="ml-2" width="32">-->
					LABEL
					</button>

					<button type="button"
        					tool="PROTO"
						title="NOT GATE"
                                                model="NOT"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/NOT.svg" width="50">
					</button>

					<button type="button"
        					tool="PROTO"
						title="AND GATE"
                                                model="AND"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/AND.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="NAND GATE"
                                                model="NAND"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/NAND.svg" width="50">
					</button>

					<button type="button"
        					tool="PROTO"
						title="OR GATE"
                                                model="OR"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/OR.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="NOR GATE"
                                                model="NOR"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/NOR.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="XOR GATE"
                                                model="XOR"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/XOR.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="NOT XOR GATE"
                                                model="NXOR"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/NXOR.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="RS FF"
                                                model="RS"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/RS.svg" width="50">
					</button>
                                        <button type="button"
        					tool="PROTO"
						title="D_FF"
                                                model="D"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/D.svg" width="50">
					</button>
                                         <button type="button"
        					tool="PROTO"
						title="JK_FF"
                                                model="JK"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/JK.svg" width="50">
					</button>
					<button type="button"
        					tool="PROTO"
						title="T_FF"
                                                model="T"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<img src="js/simulator/img/T.svg" width="50">
					</button>
                                        <button type="button"
        					tool="PROTO"
						title="cB"
                                                caption="cB"
                                                model="cB"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<!--<img src="js/simulator/img/T.svg" width="50">-->
					COMPT. <br />BINAIRE
					</button>
                                         <button type="button"
        					tool="PROTO"
						title="AFFICHEUR 7 SEGMENTS"
                                                model="SEG"
        					isGate="false"
        					onclick="activeTool(this)"
        					class="list-group-item list-group-item-action pl-1">
    						<!--<img src="js/simulator/img/T.svg" width="50">-->
					AFFICH.<br />7SEGS
					</button>






					<input type="file" id="protoFile" accept=".txt" hidden>
					
				</div>
			</div>
			<div class="col-10 pl-0">
				<!-- Simulator Canvas -->
				<div id="canvas-sim"></div>
			</div>
		</div>
	</div>
</body>
<!-- Modal for Clock Settings -->
<div class="modal fade" id="ClockSettings" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Clock Settings</h5>
			</div>
			<div class="modal-body">
				<h6>Clock period</h6>
				<div class="input-group mb-3">
					<input type="number" class="form-control period" value="1000" min="0">
					<div class="input-group-append">
						<span class="input-group-text">ms</span>
					</div>
				</div>
				<h6>Duty Cycle</h6>
				<div class="input-group mb-3">
					<input type="number" class="form-control duty-cycle" value="50" min="0" max="100">
					<div class="input-group-append">
						<span class="input-group-text">%</span>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-primary" tool="Clock" onclick="activeTool(this)"
					data-dismiss="modal">Create</button>
			</div>
		</div>
	</div>
</div>
<!-- End Modal for Clock Settings-->

</html>
